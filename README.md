
–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫ Foodgram
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—É–±–ª–∏–∫—É—é—Ç —Ä–µ—Ü–µ–ø—Ç—ã, –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ –∞–≤—Ç–æ—Ä–æ–≤ –∏ –¥–æ–±–∞–≤–ª—è—é—Ç —Ä–µ—Ü–µ–ø—Ç—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ.
–°–µ—Ä–≤–∏—Å ¬´–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫¬ª –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤.

üåê –î–æ—Å—Ç—É–ø
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –æ–Ω –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
http://127.0.0.1 (–µ—Å–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –ª–æ–∫–∞–ª—å–Ω–æ –≤ Docker)
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫ API –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
http://127.0.0.1/api/docs/

‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD –∏ Docker
üîπ –í–ê–ñ–ù–û: –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Docker.
üîπ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ GitHub Secrets –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
ALLOWED_HOSTS
DB_ENGINE
DB_HOST
DB_PORT
HOST
MY_LOGIN
MY_PASS
PASSPHRASE
POSTGRES_DB
POSTGRES_PASSWORD
POSTGRES_USER
SECRET_KEY
SSH_KEY
USER

üõ† –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh username@ip
sudo apt update && sudo apt upgrade -y && sudo apt install curl -y
sudo curl -fsSL https://get.docker.com -o get-docker.sh && sudo sh get-docker.sh && sudo rm get-docker.sh
sudo curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
sudo systemctl start docker.service && sudo systemctl enable docker.service

üì¶ –°–±–æ—Ä–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ Docker-–æ–±—Ä–∞–∑–æ–≤
Backend:
cd backend
docker build -t <your_dockerhub_username>/foodgram_backend:latest .
docker push <your_dockerhub_username>/foodgram_backend:latest
Frontend:
cd frontend
docker build -t <your_dockerhub_username>/foodgram_frontend:latest .
docker push <your_dockerhub_username>/foodgram_frontend:latest
üìÇ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
üîπ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ–∞–π–ª—ã docker-compose.yml –∏ default.conf –≤ –ø–∞–ø–∫—É infra –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
scp infra/docker-compose.production.yml username@server_ip:/home/username/
scp infra/default.conf username@server_ip:/home/username/
üîπ –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env –≤ –ø–∞–ø–∫–µ infra –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ –Ω—É–∂–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏.
–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
cd infra
docker-compose up -d --build
‚ö° –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Django
docker-compose exec backend python manage.py makemigrations
docker-compose exec backend python manage.py migrate --noinput
docker-compose exec backend python manage.py createsuperuser
docker-compose exec backend python manage.py collectstatic --no-input
üîπ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ –Ω–∞–ø–æ–ª–Ω–∏—Ç—å –±–∞–∑—É –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ —Ç–µ–≥–∞–º–∏:
docker-compose exec backend python manage.py load_tags
docker-compose exec backend python manage.py load_ingrs
üñ• –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
–î–ª—è Linux –∏ Windows (Docker Desktop):
cd infra
docker-compose up -d --build
–ü–æ—Å–ª–µ —á–µ–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –±–∞–∑—ã, —Å—É–ø–µ—Ä—é–∑–µ—Ä–∞ –∏ —Å—Ç–∞—Ç–∏–∫–∏ (—Å–º. —Ä–∞–∑–¥–µ–ª ‚ö° –≤—ã—à–µ).
‚ú® –ê–≤—Ç–æ—Ä: –û–¥–∏–ª–æ–≤–∞ –°–æ–ª–µ—Ö–∞
